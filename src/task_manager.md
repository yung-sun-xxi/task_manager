### **Руководство по Task Manager**

### **Обзор приложения**

Ваше приложение Task Manager создано с использованием React и библиотеки FullCalendar для визуального отображения задач. Приложение состоит из двух основных компонентов: **Sidebar** для управления списком задач и **Calendar View** для их планирования.

---
### **Ключевая функциональность**

Основная функциональность приложения сосредоточена на управлении задачами и событиями, а данные сохраняются в локальном хранилище браузера.

* **Сохранение данных**: Приложение использует `localStorage` для сохранения и загрузки задач и событий.
    * **Задачи**: Хранятся под ключом `tm_tasks_v1`.
    * **События**: Хранятся под ключом `tm_events_v1`.
* **Данные задачи**: Каждая задача определяется типом `Task`, который включает:
    * `id`: Уникальный идентификатор.
    * `title`: Название задачи.
    * `estimateHours`: Оценочное количество часов для выполнения.
    * `description?`: Опциональное описание.
    * `color?`: Опциональный цвет задачи.

---
### **Компонент боковой панели (Sidebar.tsx)**

Боковая панель отображает список задач, позволяет управлять их оценками и отслеживать прогресс.

* **Список задач**: Боковая панель отображает каждую задачу как "карточку".
* **Перетаскивание (Drag and Drop)**: Задачи в боковой панели являются **перетаскиваемыми**. Вы можете перетащить карточку задачи на календарь, чтобы создать новое событие.
* **Отслеживание прогресса**: Каждая карточка показывает прогресс, основанный на соотношении затраченного и оценочного времени.
    * Прогресс отображается в виде шкалы и числового соотношения (например, `(затраченные часы) / (оценочные часы)`).
    * Подсказка (tooltip) на шкале прогресса предоставляет более подробную информацию: "Allocated: X h Y m / Estimate: Z h W m".
* **Расчёт времени**:
    * `allocatedMin`: Общее количество минут, выделенных на задачу из событий в календаре.
    * `estMin`: Оценочные минуты, рассчитанные на основе `estimateHours` (например, `estimateHours * 60`).
* **"Перерасход" и оставшееся время**: Подсказка на карточке задачи показывает статус на основе затраченного времени:
    * Если `allocatedMin` больше `estMin`, отображается "Over by: X h Y m".
    * Если `allocatedMin` меньше `estMin`, отображается "Remaining: X h Y m".
* **Оценки**: Вы можете напрямую редактировать `estimateHours` для каждой задачи с помощью поля ввода. Поле принимает числа с минимальным значением `0.25` и шагом `0.25`.

---
### **Компонент календаря (CalendarView.tsx)**

Компонент календаря — это основной интерфейс, где можно визуализировать и планировать ваше время. Он использует библиотеку `FullCalendar` с плагинами `timeGridPlugin` и `interactionPlugin`.

* **Виды**: Начальный вид календаря — `timeGridWeek`.
* **Временные слоты**: Время отображается с шагом в `15 минут` (`slotDuration`). Календарь настроен на отображение времени с 9:00 до 21:01 (`slotMinTime` и `slotMaxTime`).
* **Взаимодействие с событиями**:
    * **Перетаскивание**: Вы можете перетащить задачу с боковой панели и бросить её на календарь, чтобы создать новое событие.
    * **Изменение размера**: События на календаре можно изменять в размере, чтобы скорректировать их продолжительность.
    * **Перемещение**: Вы можете перемещать события по календарю.
    * **Выделение времени**: Вы можете выделить временной диапазон на календаре для создания нового события.
* **Данные события**: Каждое событие календаря определяется типом `PlainEvent`, который включает:
    * `id?`: Опциональный строковый идентификатор.
    * `title`: Название события.
    * `start`: Время начала события в формате ISO.
    * `end`: Время окончания события в формате ISO.
    * `taskId?`: Идентификатор связанной задачи из боковой панели.